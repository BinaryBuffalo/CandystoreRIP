<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <!-- Google Font -->
  <link
    href="https://fonts.googleapis.com/css2?family=Bebas+Neue&display=swap"
    rel="stylesheet"
  />
  <!-- Bootstrap -->
  <link
    href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css"
    rel="stylesheet"
  />
  <!-- Bootstrap Icons -->
  <link
    href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css"
    rel="stylesheet"
  />
  <style>
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      font-family: Arial, sans-serif;
      background-color: rgba(50, 214, 255, 0.377);
      flex-direction: column;
    }

    .__background-container-weird__ {
      position: fixed;
      top: 0;
      left: 0;
      width: 100vw;
      height: 100vh;
      z-index: -9999;
      pointer-events: none;
    }

    .__animated-gradient-weird__ {
      position: absolute;
      width: 200%;
      height: 200%;
      background: linear-gradient(135deg, #1cb7ff, white, #0077ed, white);
      background-size: 300% 300%;
      animation: __gradient-flow-weird__ 60s linear infinite;
      -webkit-animation: __gradient-flow-weird__ 60s linear infinite;
    }

    @keyframes __gradient-flow-weird__ {
      0% {
        background-position: 0% 0%;
      }
      100% {
        background-position: 100% 100%;
      }
    }
    @-webkit-keyframes __gradient-flow-weird__ {
      0% {
        background-position: 0% 0%;
      }
      100% {
        background-position: 100% 100%;
      }
    }

    .container {
      display: flex;
      flex-direction: column;
      max-width: 1200px;
      width: 100%;
      margin: 0 auto; /* Centered on larger screens */
    }

    .controls {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      width: 100%;
    }

    .dropdown {
      position: relative;
      margin-right: 10px;
      flex-grow: 1;
      max-width: 300px;
      margin-bottom: 5px;
    }

    .dropdown-toggle {
      width: 100%;
      text-align: left;
      padding-right: 30px;
      border-radius: 0.375rem;
      padding: 10px 15px;
      font-size: 16px;
      transition: box-shadow 0.3s ease;
      background-color: white;
      color: #0d6efd;
      border-color: #0d6efd;
    }

    .dropdown-toggle:hover {
      background-color: #0d6efd;
      color: white;
    }
    .dropdown-toggle:focus,
    .dropdown-toggle.show {
      background-color: #0d6efd;
      color: white;
    }

    .dropdown-menu {
      width: 100%;
      min-width: unset;
    }

    @media (max-width: 768px) {
      .controls {
        flex-direction: column;
      }
      .dropdown {
        margin-bottom: 10px;
        width: 100%;
      }
    }

    .icons {
      display: flex;
      gap: 10px;
      margin-bottom: 20px;
      max-width: 300px;
      flex-grow: 1;
      margin-bottom: 5px;
    }

    @media (max-width: 768px) {
      .icons {
        margin-bottom: 25px;
      }
    }

    .icons svg,
    .icons img {
      cursor: pointer;
      width: 40px;
      height: 40px;
      transition: transform 0.2s;
    }
    .icons svg:hover,
    .icons img:hover {
      transform: scale(1.1);
    }
    @media (max-width: 768px) {
      .icons svg,
      .icons img {
        width: 30px;
        height: 30px;
      }
    }

    .grid-container {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      justify-content: center;
      width: 100%;
      padding: 35px;
    }

    /* --------------------------------------
       Make sure each .box can grow to fit overlay
    ---------------------------------------- */
    .box {
      position: relative;
      background-color: #f0f0f0;
      border: 1px solid #ddd;
      display: flex;
      flex-direction: column;
      align-items: center;
      overflow: visible; /* allow content to expand */
      padding: 0;
      border-radius: 12px;
      cursor: pointer;
      border: 3px solid #000;
    }

    .box img {
      width: 100%;
      height: auto;
      object-fit: cover;
    }

    /* Overlay general styling */
    .overlay {
      background: rgba(0, 0, 0, 0.7);
      color: white;
      padding: 5px;
      display: flex;
      flex-direction: column;
      justify-content: space-between;
      align-items: flex-start;
      position: absolute;
      bottom: 0;
      left: 0;
      right: 0;
      text-align: left;
    }

    .info-button {
      position: absolute;
      right: 10px;
      top: 10px;
      background-color: #0d6efd;
      color: white;
      border: none;
      padding: 8px 10px;
      width: 80px;
      border-radius: 4px;
      cursor: pointer;
      font-size: 14px;
      transition: background-color 0.3s ease;
    }
    .info-button:hover {
      background-color: #0056b3;
    }

    .info-buttons3 {
      top: 10px;
      background-color: #0d6efd;
      color: white;
      border: none;
      width: 80px;
      border-radius: 4px;
      cursor: pointer;
      font-size: 14px;
      height: 30px;
      transition: background-color 0.3s ease;
    }
    .info-buttons3:hover {
      background-color: #0056b3;
    }

    .category-divider {
      width: 200%;
      text-align: center;
      background-color: #47b8ff;
      border: 3px solid #000000;
      font-size: 55px;
      font-weight: bold;
      color: black;
      font-family: "Bebas Neue", sans-serif;
    }

    /* --------------------------------------
       Symbol 1 layout:
         - 1 item per row on mobile
         - 2 items per row on larger screens
         - Let height expand
    ---------------------------------------- */
    .symbol-1 .box {
      width: 48%;
      max-width: 610px;
    }
    @media (max-width: 768px) {
      .symbol-1 .box {
        width: 100%;
      }
    }

    /* --------------------------------------
       Symbol 2 layout:
         - 2 items per row on mobile (50% each),
         - ~3 items per row on larger screens (32% each),
         - Remove fixed max-height so it can grow
    ---------------------------------------- */
    .symbol-2 .box {
      width: calc(50% - 5px);
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: flex-start;
      max-width: 400px;
      border-radius: 10px;
      /* remove max-height to avoid cropping */
    }
    .symbol-2 .box img {
      width: 100%;
      height: auto;
      object-fit: cover;
    }
    @media (min-width: 768px) {
      .symbol-2 .box {
        width: 32%;
        max-width: 400px;
      }
    }

    /* Symbol 2 mobile override:
       - Let overlay grow
       - Price & save at the top, label below, buttons stacked 
    */
    @media (max-width: 768px) {
      .symbol-2 .box {
        flex-direction: column;
        height: auto !important; /* ensure it expands */
      }
      .symbol-2 .overlay {
        position: static;
        background: #222; /* visible overlay */
        color: #fff;
        margin-top: auto;
        width: 100%;
        padding: 20px;
        display: flex;
        flex-direction: column;
        align-items: center;
      }
      .symbol-2 .overlay .price-wrapper {
        display: flex;
        flex-direction: row;
        justify-content: center;
        width: 100%;
        margin-bottom: 10px;
        order: 1;
      }
      .symbol-2 .overlay .description {
        text-align: center;
        order: 2;
      }
      .symbol-2 .overlay .button-row {
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 10px;
        margin-top: 5px;
        order: 3;
        width: 100%;
      }
      .symbol-2 .overlay .info-button,
      .symbol-2 .overlay .buy-now-button {
        position: static;
        margin-right: 0;
        width: 100%;
      }
    }

    /* --------------------------------------
       Symbol 3 layout:
       - By default (desktop) display in row with fixed height 150px 
         BUT override to height:auto on mobile
    ---------------------------------------- */
    .symbol-3 .box {
      display: flex;
      width: 100%;
      height: 150px;
      flex-direction: row;
      align-items: center;
      justify-content: flex-start;
      border-radius: 10px;
      cursor: pointer;
      background-color: white;
      color: black;
      border: 3px solid black;
      overflow: visible; /* ensures overlay won't cut off */
    }
    .symbol-3 .box img {
      width: 150px;
      height: 100%;
      object-fit: cover;
      margin-right: 15px;
    }

    .symbol-3 .label-3-desktop {
      font-family: "Bebas Neue", sans-serif;
      font-size: 38px; /* PC label size */
      color: black;
      margin-left: 10px;
    }
    @media (max-width: 768px) {
      .symbol-3 .label-3-desktop {
        display: none; /* Hide on mobile */
      }
    }

    .symbol-3 .price-wrapper2 {
      display: flex;
      flex-direction: column;
      align-items: flex-end;
      margin-left: auto;
      margin-right: 5px;
    }
    .symbol-3 .price2 {
      font-size: 18px;
      font-weight: bold;
      margin-right: 57px;
      color: black;
    }
    .symbol-3 .save2 {
      font-size: 14px;
      color: red;
      margin-right: 50px;
      margin-bottom: 5px;
    }
    .containerts {
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100px;
    }

    .buy-now-button {
      position: absolute;
      right: 10px;
      top: 53px;
      background-color: red;
      color: white;
      border: none;
      padding: 8px 10px;
      border-radius: 4px;
      cursor: pointer;
      width: 80px;
      font-size: 14px;
      transition: background-color 0.3s ease;
    }
    .buy-now-button:hover {
      background-color: darkred;
    }
    .buy-now-buttons3 {
      top: 10px;
      background-color: red;
      color: white;
      border: none;
      border-radius: 4px;
      cursor: pointer;
      width: 80px;
      font-size: 14px;
      height: 30px;
      transition: background-color 0.3s ease;
    }
    .buy-now-buttons3:hover {
      background-color: darkred;
    }

    /* Symbol 3: mobile container */
    .symbol-3 .mobile-text-container {
      display: none; /* Hidden on desktop */
    }
    @media (max-width: 768px) {
      .symbol-3 .box {
        height: auto; /* allow it to grow */
        align-items: flex-start;
      }
      .symbol-3 .price-wrapper2 {
        display: none; /* Hide the old PC wrapper on mobile */
      }
      .symbol-3 .mobile-text-container {
        display: flex;
        flex-direction: column;
        justify-content: center;
        margin-top: 10px;
      }
      .symbol-3 .mobile-text-container .description {
        font-size: 24px; /* Mobile label size */
        margin-bottom: 8px;
      }
      .symbol-3 .price-save-row {
        display: flex;
        flex-direction: row;
        gap: 12px;
        margin-bottom: 8px;
      }
      .symbol-3 .price-save-row .price {
        font-size: 18px;
        font-weight: bold;
        color: black;
      }
      .symbol-3 .price-save-row .save {
        font-size: 14px;
        color: red;
        margin-bottom: 5px;
      }
      .symbol-3 .button-row-3 {
        display: flex;
        flex-direction: row;
        gap: 12px;
      }
    }

    /* Common text styling */
    .description {
      font-family: "Bebas Neue", sans-serif;
      margin-top: 0;
      font-size: 38px;
    }
    .symbol-1 .overlay .price-wrapper,
    .symbol-2 .overlay .price-wrapper {
      display: flex;
      align-items: center;
      gap: 10px;
    }
    .symbol-1 .price,
    .symbol-2 .price {
      font-size: 18px;
      font-weight: bold;
      color: white;
    }
    .symbol-1 .save,
    .symbol-2 .save {
      font-size: 14px;
      color: red;
    }

    /* ADDITIONAL MEDIA QUERY to reduce spacing to 8px on smaller screens */
    @media (max-width: 768px) {
      .container {
        /* Ensures there's only 8px from the left and right edges */
        padding-left: 8px;
        padding-right: 8px;
        max-width: none; /* Let it span the full width minus the padding */
      }
      .grid-container {
        /* Reduce the padding inside the grid to 8px total */
        padding: 8px;
      }
    }
  </style>
</head>
<body>
  <div class="__background-container-weird__">
    <div class="__animated-gradient-weird__"></div>
  </div>

  <div class="container mt-5">
    <div class="controls">
      <!-- Dropdown 1 -->
      <div class="dropdown" id="categoryDropdown">
        <button
          class="btn btn-outline-primary dropdown-toggle"
          type="button"
          id="dropdownButton1"
          data-bs-toggle="dropdown"
          aria-expanded="false"
        >
          <i class="bi bi-search"></i> Sort by Category
        </button>
        <ul class="dropdown-menu">
          <li><a class="dropdown-item" href="#">All Categories</a></li>
          <li><a class="dropdown-item" href="#">Featured Items</a></li>
          <li><hr class="dropdown-divider" /></li>
          <li><a class="dropdown-item" href="#">Category 1</a></li>
          <li><a class="dropdown-item" href="#">Category 2</a></li>
          <li><a class="dropdown-item" href="#">Category 3</a></li>
        </ul>
      </div>

      <!-- Dropdown 2 -->
      <div class="dropdown" id="priceDropdown">
        <button
          class="btn btn-outline-primary dropdown-toggle"
          type="button"
          id="dropdownButton2"
          data-bs-toggle="dropdown"
          aria-expanded="false"
        >
          <i class="bi bi-tag"></i> Sort by Price
        </button>
        <ul class="dropdown-menu">
          <li><a class="dropdown-item" href="lowtohigh/">Lowest to Highest</a></li>
          <li><a class="dropdown-item" href="hightolow/">Highest to Lowest</a></li>
          <li><a class="dropdown-item" href="discounteditems/">Clearance Items</a></li>
        </ul>
      </div>

      <!-- Icons (symbol selection) -->
      <div class="icons">
        <img
          src="https://icons.getbootstrap.com/assets/icons/square-fill.svg"
          alt="Symbol 1"
          onclick="setLayout('symbol-1')"
        />
        <img
          src="https://icons.getbootstrap.com/assets/icons/microsoft.svg"
          alt="Symbol 2"
          onclick="setLayout('symbol-2')"
        />
        <svg
          style="color: black;"
          xmlns="http://www.w3.org/2000/svg"
          aria-hidden="true"
          focusable="false"
          role="presentation"
          class="icon icon-view-list"
          viewBox="0 0 35 35"
          fill="currentColor"
          width="20"
          height="20"
          onclick="setLayout('symbol-3')"
        >
          <path d="M0 0h35v8H0zm0 13h35v8H0zm0 14h35v8H0z"></path>
        </svg>
      </div>
    </div>
  </div>

  <div id="gridContainer" class="grid-container symbol-1"></div>

  <!-- Popper and Bootstrap JS -->
  <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.7/dist/umd/popper.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.min.js"></script>

  <script>
    const products = [
      {
        name: "MONKEY 1",
        imgSrc: "TMGF.png",
        price: "$100",
        save: "$20",
        link: "#",
        category: "Featured Items",
      },
      {
        name: "MONKEY 2",
        imgSrc: "TMGF.png",
        price: "$200",
        save: "$30",
        link: "#",
        category: "Featured Items",
      },
      {
        name: "MONKEY 3",
        imgSrc: "TMGF.png",
        price: "$150",
        save: "$10",
        link: "#",
        category: "Featured Items",
      },
      {
        name: "MONKEY 4",
        imgSrc: "TMGF.png",
        price: "$180",
        save: "$25",
        link: "#",
        category: "Featured Items",
      },
      {
        name: "MONKEY 5",
        imgSrc: "TMGF.png",
        price: "$120",
        save: "$15",
        link: "#",
        category: "Category 1",
      },
      {
        name: "MONKEY 6",
        imgSrc: "TMGF.png",
        price: "$220",
        save: "$40",
        link: "#",
        category: "Category 1",
      },
      {
        name: "MONKEY 7",
        imgSrc: "TMGF.png",
        price: "$130",
        save: "$20",
        link: "#",
        category: "Category 1",
      },
      {
        name: "MONKEY 8",
        imgSrc: "TMGF.png",
        price: "$160",
        save: "$30",
        link: "#",
        category: "Category 1",
      },
    ];

    function setLayout(layout) {
      const gridContainer = document.getElementById("gridContainer");
      gridContainer.className = "grid-container " + layout;
      gridContainer.innerHTML = "";
      let currentCategory = "";

      products.forEach((product) => {
        // Insert Category Divider if category changes
        if (currentCategory !== product.category) {
          currentCategory = product.category;
          gridContainer.innerHTML += `
            <div class="category-divider">${currentCategory}</div>
          `;
        }

        let productHTML = `<div class="box" onclick="window.location.href='${product.link}'">`;

        if (layout === "symbol-3") {
          // Desktop (PC) label + PC price/save, plus a separate mobile container
          productHTML += `
            <img src="${product.imgSrc}" alt="${product.name}" />
            <div class="label-3-desktop">${product.name}</div>
            <div class="price-wrapper2">
              <div class="containerts">
                <button class="info-buttons3" onclick="event.stopPropagation(); showInfo('${product.name}')">View</button>
                <button class="buy-now-buttons3" onclick="event.stopPropagation(); buyNow('${product.name}')">Buy Now</button>
              </div>
              <div class="price2">${product.price}</div>
              <div class="save2">Save ${product.save}</div>
            </div>
            <!-- Mobile container (hidden on desktop) -->
            <div class="mobile-text-container">
              <div class="description">${product.name}</div>
              <div class="price-save-row">
                <div class="price">${product.price}</div>
                <div class="save">Save ${product.save}</div>
              </div>
              <div class="button-row-3">
                <button class="info-buttons3" onclick="event.stopPropagation(); showInfo('${product.name}')">View</button>
                <button class="buy-now-buttons3" onclick="event.stopPropagation(); buyNow('${product.name}')">Buy Now</button>
              </div>
            </div>
          `;
        } else if (layout === "symbol-2") {
          // Symbol 2 layout
          productHTML += `
            <img src="${product.imgSrc}" alt="${product.name}" />
            <div class="overlay">
              <div class="description">${product.name}</div>
              <div class="price-wrapper">
                <div class="price">${product.price}</div>
                <div class="save">Save ${product.save}</div>
              </div>
              <div class="button-row">
                <button class="info-button" onclick="event.stopPropagation(); showInfo('${product.name}')">View</button>
                <button class="buy-now-button" onclick="event.stopPropagation(); buyNow('${product.name}')">Buy Now</button>
              </div>
            </div>
          `;
        } else {
          // Symbol 1 layout
          productHTML += `
            <img src="${product.imgSrc}" alt="${product.name}" />
            <div class="overlay">
              <div class="description">${product.name}</div>
              <div class="price-wrapper">
                <div class="price">${product.price}</div>
                <div class="save">Save ${product.save}</div>
              </div>
              <button class="info-button" onclick="event.stopPropagation(); showInfo('${product.name}')">View</button>
              <button class="buy-now-button" onclick="event.stopPropagation(); buyNow('${product.name}')">Buy Now</button>
            </div>
          `;
        }

        productHTML += `</div>`;
        gridContainer.innerHTML += productHTML;
      });
    }

    function showInfo(productName) {
      alert(`More info about ${productName}`);
    }

    function buyNow(productName) {
      alert(`Buying ${productName}`);
    }

    // Default layout on page load
    setLayout("symbol-1");
  </script>

  <div class="background"></div>
</body>
</html>
